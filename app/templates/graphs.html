<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Graphs</title>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body>

    <h1>CPI vs Positive Presidential Approval Ratings</h1>
    <div id="chart1"></div>

    <h1>CPI vs Negative Presidential Approval Ratings</h1>
    <div id="chart2"></div>

    <script>

        const dates = {{ dates | tojson }};
        const cpi_values = {{ cpi_values }};
        const approval_values = {{ approval_values }};
        const negative_approval_values = approval_values.map(val => 100 - val);

        const options1 = {
            chart: {
                type: 'line',
                height: 500,
                zoom: { enabled: true }
            },
            series: [
                {
                    name: 'CPI',
                    type: 'line',
                    data: cpi_values
                },
                {
                    name: 'Positive Approval Ratings (%)',
                    type: 'line',
                    data: approval_values
                }
            ],
            xaxis: {
                categories: dates,
                title: { text: 'Date' }
            },
            yaxis: [
                {
                    title: { text: 'CPI' },
                },
                {
                    title: { text: 'Positive Approval Ratings (%)' },
                    labels: { formatter: (val) => val + "%" },
                    opposite: true
                }
            ]
        };

        const options2 = {
            chart: {
                type: 'line',
                height: 500,
                zoom: { enabled: true }
            },
            series: [
                {
                    name: 'CPI',
                    type: 'line',
                    data: cpi_values
                },
                {
                    name: 'Negative Approval Ratings (%)',
                    type: 'line',
                    data: negative_approval_values
                }
            ],
            xaxis: {
                categories: dates,
                title: { text: 'Date' }
            },
            yaxis: [
                {
                    title: { text: 'CPI' },
                },
                {
                    title: { text: 'Negative Approval Ratings (%)' },
                    labels: { formatter: (val) => val + "%" },
                    opposite: true
                }
            ]
        };

        const chart1 = new ApexCharts(document.querySelector("#chart1"), options1);
        const chart2 = new ApexCharts(document.querySelector("#chart2"), options2);

        chart1.render();
        chart2.render();

    </script>

</body>
</html>